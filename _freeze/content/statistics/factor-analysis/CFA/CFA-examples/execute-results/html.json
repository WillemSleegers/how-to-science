{
  "hash": "e1a8c987bf3fec482fd26b36ac550b34",
  "result": {
    "markdown": "---\ntitle: CFA - Examples\nbibliography: references.bib\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.7     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.0\n✔ readr   2.1.2     ✔ forcats 0.5.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(lavaan)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nThis is lavaan 0.6-11\nlavaan is FREE software! Please report any bugs.\n```\n:::\n\n```{.r .cell-code}\nlibrary(dynamic)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nBeta version. Please report bugs: https://github.com/melissagwolf/dynamic/issues.\n```\n:::\n:::\n\n\n## Rosenberg Self-Esteem Scale\n\nThe Rosenberg self-esteem scale (Rosenberg, 1989) is a unidimensional scale to assess global self-esteem. It is one of the most commonly used scales in psychology and could therefore serve as a nice illustration of how to assess whether the data fits a single factor model.\n\nIt should be noted, however, that apparently there is some controversy whether the scale is actually unifactorial [@donnellan2016].\n\n### The Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load data\nitems <- read_csv(\"RSECSV.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 1127 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (10): R1, R2, R3, R4, R5, R6, R7, R8, R9, R10\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n# Data preparation\n# Replace all -9999 values with NA\nitems <- mutate(items, across(everything(), ~ na_if(.x, -9999)))\n```\n:::\n\n\nThe data was taken from @donnellan2016, who conducted a study to assess the factorial structure of the RSE. The data consists of `nrow(items)` participants, who were college students at a public university in the Southwestern United States.\n\n### The Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel <- \"\n  self_esteem =~ R1 + R2 + R3 + R4 + R5 + R6 + R7 + R8 + R9 + R10\n\"\n\nfit <- cfa(model = model, data = items, estimator = \"MLR\")\nfitmeasures(fit, \n  fit.measures = c(\"pvalue\", \"pvalue.scaled\", \"srmr\", \"rmsea\", \"cfi\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       pvalue pvalue.scaled          srmr         rmsea           cfi \n        0.000         0.000         0.082         0.165         0.802 \n```\n:::\n\n```{.r .cell-code}\n#fit_cutoffs <- cfaOne(fit)\n```\n:::\n\n\n## Marsh's Self-Description Questionnaire\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load data\nmarsh <- read_csv(\"marsh.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 15661 Columns: 13\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (13): Eng1, Eng2, Eng3, Eng4, Math1, Math2, Math3, Math4, Par1, Par2, Pa...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\nData for this example is from 15,661 students in 10th grade who participated in the National Education Longitudinal Study of 1988. Items from this scale include:\n\nParents:\n\n-   My parents treat me fairly\n\n-   I do not like my parents very much\n\n-   I get along well with my parents\n\n-   My parents are usually unhappy or disappointed with what I do\n\n-   My parents understand me\n\nEnglish\n\n-   I learn things quickly in English classes\n\n-   English is one of my best subjects\n\n-   I get good marks in English\n\n-   I'm hopeless in English classes\n\nMathematics\n\n-   Mathematics is one of my best subjects\n\n-   I have always done well in mathematics\n\n-   I get good marks in mathematics\n\n-   I do badly in tests of mathematics\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmarsh_model <- \"\n  english =~ Eng1 + Eng2 + Eng3 + Eng4\n  math    =~ Math1 + Math2 + Math3 + Math4\n  parent  =~ Par1 + Par2 + Par3 + Par4 + Par5\n\"\n\nmarsh_fit <- cfa(model = marsh_model, data = marsh, estimator = \"MLR\")\nfitmeasures(marsh_fit, \n  fit.measures = c(\"pvalue\", \"pvalue.scaled\", \"srmr\", \"rmsea\", \"cfi\")\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       pvalue pvalue.scaled          srmr         rmsea           cfi \n        0.000         0.000         0.051         0.083         0.935 \n```\n:::\n\n```{.r .cell-code}\n#marsh_fit_cutoffs <- cfaHB(marsh_fit)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}